<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OopisOS - The Portable Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Lato:wght@400;700&family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #f8fafc; /* A cooler, more modern off-white (slate-50) */
            color: #1e293b; /* A slightly softer black (slate-800) */
        }
        h1, h2, h3, h4, h5, h6, .font-lora {
            font-family: 'Lora', serif;
        }
        .font-fira {
            font-family: 'Fira Code', monospace;
        }
        .solid-nav {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #e2e8f0; /* slate-200 */
        }
        .hero-solid-text {
            color: #1e3a8a; /* A deeper, more confident blue (blue-900) */
        }
        .section-title {
            font-weight: 700;
            font-size: 2.25rem; /* 36px */
            line-height: 2.5rem; /* 40px */
            letter-spacing: -0.025em;
            color: #1e293b; /* slate-800 */
        }
        .card {
            background-color: #ffffff;
            border: 1px solid #e2e8f0; /* slate-200 */
            border-radius: 0.75rem; /* Slightly more rounded */
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.03);
        }
        .card:hover {
            border-color: #3b82f6; /* blue-500 */
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04);
        }
        code {
            font-family: 'Fira Code', monospace;
            background-color: #e2e8f0; /* slate-200 */
            color: #475569; /* slate-600 */
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
        }
        pre {
            background-color: #1e293b; /* slate-800 */
            color: #e2e8f0; /* slate-200 */
            border: 1px solid #334155; /* slate-700 */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .cta-button {
            display: inline-block;
            padding: 0.625rem 1.25rem; /* Slightly reduced padding */
            background-color: #2563eb; /* A brighter, more modern blue (blue-600) */
            color: white;
            font-weight: 600;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .cta-button:hover {
            background-color: #1d4ed8; /* blue-700 */
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .cta-button-secondary {
            background: transparent;
            border: 2px solid #2563eb;
            color: #2563eb;
        }
        .cta-button-secondary:hover {
            background: #2563eb;
            color: white;
        }
        .content-wrapper {
            max-width: 64rem; /* 1024px */
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>
<body class="antialiased">

<!-- Header & Navigation -->
<header id="header" class="solid-nav sticky top-0 z-50">
    <nav class="content-wrapper px-6 py-3 flex justify-between items-center">
        <a href="#hero" class="text-2xl font-bold hero-solid-text font-lora">OopisOS</a>
        <div class="hidden md:flex space-x-8 items-center">
            <a href="#about" class="hover:text-blue-600 transition-colors">About</a>
            <a href="#portable" class="hover:text-blue-600 transition-colors">Portable Mode</a>
            <a href="#shell" class="hover:text-blue-600 transition-colors">The Shell</a>
            <a href="#apps" class="hover:text-blue-600 transition-colors">Apps</a>
            <a href="#security" class="hover:text-blue-600 transition-colors">Security</a>
            <a href="#devs" class="hover:text-blue-600 transition-colors">Developers</a>
            <a href="#explore" class="hover:text-blue-600 transition-colors">Explore</a>
        </div>
        <button id="mobile-menu-button" class="md:hidden focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </nav>
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
        <a href="#about" class="block py-2 hover:text-blue-600">About</a>
        <a href="#portable" class="block py-2 hover:text-blue-600">Portable Mode</a>
        <a href="#shell" class="block py-2 hover:text-blue-600">The Shell</a>
        <a href="#apps" class="block py-2 hover:text-blue-600">Apps</a>
        <a href="#security" class="block py-2 hover:text-blue-600">Security</a>
        <a href="#devs" class="block py-2 hover:text-blue-600">Developers</a>
        <a href="#explore" class="block py-2 hover:text-blue-600">Explore</a>
    </div>
</header>

<main class="content-wrapper px-6 py-12 md:py-16">

    <!-- Hero Section -->
    <section id="hero" class="text-center min-h-[70vh] flex flex-col justify-center items-center">
        <h1 class="text-5xl md:text-7xl font-bold hero-solid-text leading-tight">OopisOS v3.6</h1>
        <p class="mt-3 text-xl md:text-2xl text-gray-700 font-lora">The Portable Edition</p>
        <p class="mt-6 max-w-3xl text-lg text-gray-600">
            Your entire digital universe, now completely portable. OopisOS is a private, persistent, and powerful operating system that runs entirely on your local machineâ€”or from a USB drive. Take your work, your tools, and your world anywhere.
        </p>
        <div class="mt-8 flex flex-wrap justify-center items-center gap-4">
            <a href="https://aedmark.github.io/Oopis-OS" target="_blank" rel="noopener noreferrer" class="cta-button">
                Launch Live Demo
            </a>
            <a href="https://github.com/aedmark/oopis-os" target="_blank" rel="noopener noreferrer" class="cta-button cta-button-secondary">
                View on GitHub
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16">
        <h2 class="section-title text-center mb-10">A Universe in Your Browser</h2>
        <div class="grid md:grid-cols-2 gap-10 items-center">
            <div>
                <h3 class="text-3xl font-bold text-blue-800 mb-4 font-lora">Radical Self-Reliance</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    OopisOS is not a website; it's a complete operating system simulation that runs entirely on your machine. There is no backend server. Every file you create, every user you add, every command you run is processed and stored locally. Your world is yours alone, governed by a robust security model that you control.
                </p>
                <p class="text-gray-700 leading-relaxed">
                    This project began as a question: Can a complex, stateful, multi-user system be built with nothing but the native tools of the web? The answer is a resounding yes. OopisOS is a living demonstration of what's possible when modern browser capabilities are wielded with disciplined, framework-free architecture.
                </p>
            </div>
            <div class="card p-6">
                <h4 class="text-xl font-bold mb-4 font-lora">The Foundational Pillars</h4>
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <svg class="w-5 h-5 mr-3 mt-1 text-green-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span><strong class="text-gray-800">Architected Persistence:</strong> Your entire OS state, from the root directory to the last line of your command history, is saved locally. Your world persists.</span>
                    </li>
                    <li class="flex items-start">
                        <svg class="w-5 h-5 mr-3 mt-1 text-green-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span><strong class="text-gray-800">Enforced Modularity:</strong> Components are orchestrated, never entangled. The `CommandExecutor` is the central nervous system, ensuring every command adheres to a strict contract before execution.</span>
                    </li>
                    <li class="flex items-start">
                        <svg class="w-5 h-5 mr-3 mt-1 text-green-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span><strong class="text-gray-800">Security by Design:</strong> From the `FileSystemManager`'s permission gatekeeping to the `SudoManager`'s controlled privilege escalation, security is a foundational layer, not a feature.</span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Portable Mode Section -->
    <section id="portable" class="py-16 bg-blue-50">
        <div class="content-wrapper px-6">
            <div class="grid md:grid-cols-2 gap-10 items-center">
                <div class="text-center md:text-left">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24 mx-auto md:mx-0 mb-4 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 18h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 5V3a2 2 0 00-2-2H9a2 2 0 00-2 2v2" />
                    </svg>
                    <h2 class="section-title mb-4">Your Universe, In Your Pocket.</h2>
                    <p class="text-lg text-gray-600 leading-relaxed">
                        OopisOS is now a standalone desktop application with a groundbreaking **Portable Mode**. Place the app on a USB drive, create an empty <code>.portable</code> file, and your entire OSâ€”files, users, and settingsâ€”travels with you. True data ownership, untethered from any single machine.
                    </p>
                </div>
                <div class="card p-6">
                    <h4 class="text-xl font-bold mb-4 font-lora">How It Works</h4>
                    <p class="text-gray-700 mb-4">The Electron application checks for a <code>.portable</code> file in its root directory on launch. If found, it redirects all user data to a local <code>/data</code> folder, making the entire installation self-contained.</p>
                    <pre><code class="language-bash">> # 1. Copy OopisOS to a USB drive
> # 2. Create the marker file
> touch .portable
> # 3. Launch the app. You're now portable.
</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Philosophy Section -->
    <section id="philosophy" class="py-16">
        <div class="content-wrapper px-6">
            <h2 class="section-title text-center mb-4">Our Philosophy</h2>
            <h3 class="text-4xl font-bold text-center text-blue-800 mb-10 font-lora">El CÃ³digo del Taco</h3>
            <p class="text-center text-lg text-gray-600 mb-10 max-w-3xl mx-auto leading-relaxed">
                A robust application is like a well-made taco. Every layer has a purpose, and their separation is key to a coherent, delightful experience. This model is the blueprint for OopisOS, ensuring that complexity is managed, not chaotic.
            </p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cards remain the same, padding is handled by the card class -->
                <div class="card p-5">
                    <h4 class="text-lg font-bold mb-2 text-yellow-700 font-lora">Layer 1: The Protein</h4>
                    <p class="text-sm text-gray-600">The Core Logic. The `CommandExecutor` and `Lexer/Parser` are the heart, processing user intent into executable actions. This is the system's "why".</p>
                </div>
                <div class="card p-5">
                    <h4 class="text-lg font-bold mb-2 text-green-700 font-lora">Layer 2: The Lettuce</h4>
                    <p class="text-sm text-gray-600">The Presentation Layer. `terminal_ui.js` and `output_manager.js` create the entire user experience, rendering state without managing it.</p>
                </div>
                <div class="card p-5">
                    <h4 class="text-lg font-bold mb-2 text-yellow-500 font-lora">Layer 3: The Cheese</h4>
                    <p class="text-sm text-gray-600">The Enhancement Layer. Valuable but non-essential features like the `chidi` AI librarian and `paint` application, adding flavor and utility.</p>
                </div>
                <div class="card p-5">
                    <h4 class="text-lg font-bold mb-2 text-red-600 font-lora">Layer 4: The Salsa</h4>
                    <p class="text-sm text-gray-600">The API & Data Layer. `storage.js` is the unifying agent, providing a clean API to `localStorage` and `IndexedDB` for all other components.</p>
                </div>
                <div class="card p-5">
                    <h4 class="text-lg font-bold mb-2 text-gray-700 font-lora">Layer 5: The Onions</h4>
                    <p class="text-sm text-gray-600">The Utility Layer. Potent, non-negotiable helpers. `utils.js` and `config.js` provide pure functions and system-wide constants.</p>
                </div>
                <div class="card p-5">
                    <h4 class="text-lg font-bold mb-2 text-orange-600 font-lora">Layer 6: The JalapeÃ±o</h4>
                    <p class="text-sm text-gray-600">The Security Layer. Controlled heat. The `SudoManager` and `FileSystemManager.hasPermission()` are the gatekeepers of power and access.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- The Shell Section -->
    <section id="shell" class="py-16">
        <h2 class="section-title text-center mb-10">An Empowered Shell</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="card p-6">
                <h3 class="text-xl font-bold mb-3 font-lora">Command Lifecycle</h3>
                <p class="text-gray-600">Every command undergoes a rigorous, multi-stage process: expansion of variables and aliases, tokenization by the Lexer, structuring by the Parser, and finally, validation against a strict "Command Contract" before a single line of logic is run.</p>
            </div>
            <div class="card p-6">
                <h3 class="text-xl font-bold mb-3 font-lora">Advanced I/O</h3>
                <p class="text-gray-600">Full support for piping (<code>|</code>), I/O redirection (<code>></code>, <code>>></code>, <code><</code>), command sequencing (<code>;</code>), and logical operators (<code>&&</code>, <code>||</code>) allows for complex, one-line workflows.</p>
            </div>
            <div class="card p-6">
                <h3 class="text-xl font-bold mb-3 font-lora">Job Control</h3>
                <p class="text-gray-600">Run long-running tasks in the background with <code>&</code>. Use <code>ps</code> to view active jobs and <code>kill</code> to terminate them, giving you full control over your session's processes.</p>
            </div>
        </div>
    </section>

    <!-- Application Suite Section -->
    <section id="apps" class="py-16">
        <h2 class="section-title text-center mb-10">The Integrated Application Suite</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="card p-6">
                <h3 class="text-2xl font-bold mb-3 font-lora">edit</h3>
                <p class="text-gray-600 mb-4">A context-aware creative suite that adapts its interface for plain text, Markdown, or HTML, offering a live split-screen preview and formatting toolbars.</p>
            </div>
            <div class="card p-6">
                <h3 class="text-2xl font-bold mb-3 font-lora">paint</h3>
                <p class="text-gray-600 mb-4">A surprisingly robust character-based art studio with a full canvas, shape tools, and a custom `.oopic` format for creating assets for your scripts and games.</p>
            </div>
            <div class="card p-6">
                <h3 class="text-2xl font-bold mb-3 font-lora">adventure</h3>
                <p class="text-gray-600 mb-4">A powerful, data-driven text adventure engine. Play the built-in tutorial or use the <code>--create</code> flag to launch an interactive editor and build your own worlds.</p>
            </div>
        </div>
    </section>

    <!-- Security Section -->
    <section id="security" class="py-16">
        <h2 class="section-title text-center mb-10">Security Deep Dive</h2>
        <div class="max-w-4xl mx-auto">
            <p class="text-center text-lg text-gray-600 mb-8 leading-relaxed">Security is not a feature; it's the foundation. The OopisOS model is built on explicit user permissions, architected containment, and a profound respect for your data privacy.</p>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="card p-6">
                    <h3 class="text-xl font-bold mb-3 font-lora">The Permission Model</h3>
                    <p class="text-gray-600">Every single file system operation is gated by `FileSystemManager.hasPermission()`. This function rigorously checks file ownership (user/group) against the file's octal mode (read, write, execute) and the current user's identity. There are no back doors.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold mb-3 font-lora">The Chain of Custody</h3>
                    <p class="text-gray-600">OopisOS provides the tools to verify, secure, and transport your data with confidence. Use <code>cksum</code> to verify integrity, <code>base64</code> to safely encode for transport, and <code>ocrypt</code> for simple data obscurity.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- For Developers Section -->
    <section id="devs" class="py-16 bg-gray-50">
        <div class="content-wrapper px-6">
            <h2 class="section-title text-center mb-10">For Architects & Developers</h2>
            <div class="max-w-4xl mx-auto">
                <h3 class="text-3xl font-bold text-center text-blue-800 mb-4 font-lora">The Command Contract</h3>
                <p class="text-center text-lg text-gray-600 mb-8 leading-relaxed">Adding a new command is a declarative and secure process. The `CommandExecutor` validates arguments, paths, and permissions against your contract *before* your logic ever runs. As of v3.3, command scripts are loaded dynamically on first useâ€”no need to edit `index.html`.</p>
                <div class="card rounded-lg p-6">
                    <pre><code class="language-js">// A new command follows a clear, secure contract.
const myCommandDefinition = {
  commandName: "mycommand",
  flagDefinitions: [ /* ...flags */ ],
  argValidation: { /* ...arg rules */ },
  pathValidation: [ /* ...path rules */ ],
  permissionChecks: [ /* ...permission rules */ ],
  coreLogic: async (context) => {
    // Your validated logic here.
    const { args, flags, currentUser, validatedPaths } = context;
    return { success: true, output: "Execution complete." };
  }
};

// Register it with the system's CommandRegistry.
CommandRegistry.register(/* ... */);
</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Explore More Section -->
    <section id="explore" class="py-16">
        <h2 class="section-title text-center mb-10">Explore OopisOS</h2>
        <p class="text-center text-lg text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed">Ready to dive in? Launch the live demo to experience OopisOS directly in your browser. To understand how it all works, or to contribute, head over to the GitHub repository. For a quick start, run <code>run /extras/inflate.sh</code> in the demo to populate your world, then run <code>run /extras/diag.sh</code> to see the system test itself.</p>
        <div class="flex flex-wrap justify-center items-center gap-4">
            <a href="https://aedmark.github.io/Oopis-OS" target="_blank" rel="noopener noreferrer" class="cta-button">
                Launch Live Demo
            </a>
            <a href="https://github.com/aedmark/oopis-os" target="_blank" rel="noopener noreferrer" class="cta-button cta-button-secondary">
                View on GitHub
            </a>
        </div>
    </section>

</main>

<!-- Footer -->
<footer class="border-t border-gray-200">
    <div class="content-wrapper px-6 py-6 text-center text-gray-500">
        <p>OopisOS is a collaborative endeavor between human direction (Andrew Edmark) and artificial intelligence (Gemini).</p>
        <p class="mt-2 text-sm">Released under the MIT License. Copyright (c) 2025 Andrew Edmark.</p>
    </div>
</footer>

<script>
    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // Close mobile menu when a link is clicked
    const mobileMenuLinks = document.querySelectorAll('#mobile-menu a, #header nav a');
    mobileMenuLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            if(e.currentTarget.href.includes('#')) {
                mobileMenu.classList.add('hidden');
            }
        });
    });
</script>

</body>
</html>
